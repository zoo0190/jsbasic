<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <div>
      <button id="btn1">국어 수업 요일선택 ></button>
      <span id="btn1-span">요일을 선택하세요!</span>
    </div>
    <div>
      <button id="btn2">수학 수업 요일선택 ></button>
      <span id="btn2-span">요일을 선택하세요!</span>
    </div>

    <script type="module">
      // 한번 만 불러라
      // 방법은 여러가지 있다... 다 찾아라...
      // DOM 제어 하는거.., DOM 제어 안하는거...
      import { WEEKS, increaseOne } from './pureFn.js';

      const getIdx = window.addEventListener('load', () => {
        const $btn1 = document.getElementById('btn1');
        const $btn2 = document.getElementById('btn2');

        const $span1 = document.getElementById('btn1-span');
        const $span2 = document.getElementById('btn2-span');

        // 방법 2
        const weekControl = increaseOne();

        // 방법 1
        const findWeek = spanText => {
          const indexNum = WEEKS.indexOf(spanText);
          if (indexNum === -1 || indexNum === 6) {
            return 0;
          }
          return indexNum + 1;
        };

        // 1. 가장 즉흥적
        // 2. DOM 전달
        // 3. 현재 값을 전달
        // 4. Object 관리
        // 5. caller

        $btn1.addEventListener('click', function (event) {
          //   $span1.innerText = WEEKS[weekControl('국어')];
          $span1.innerText = WEEKS[findWeek($span1.innerText)];
        });

        $btn2.addEventListener('click', event => {
          //   $span2.innerText = WEEKS[weekControl('수학')];
          $span2.innerText = WEEKS[findWeek($span2.innerText)];
        });
      });
    </script>
  </body>
</html>
